<!DOCTYPE html>
<html ng-app="product">
  <head>
    <title>Bootstrap 101 Template</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <link href="css/bootstrap.css" rel="stylesheet" media="screen">
    <link href="css/flat-ui.css" rel="stylesheet" media="screen">
    <link href="css/master.css" rel="stylesheet" media="screen">
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/angular.js"></script>
    <script src="js/angular-route.js"></script>
	<script src="scripts/core.js"></script>
    <script src="scripts/product/controllers.js"></script>
    <script src="scripts/product/app.js"></script>
    <script src="js/uploadify/jquery.uploadify.js"></script>
    <script src="js/uploadify/uploadify.extention.js"></script>
    <link rel="stylesheet" type="text/css" href="js/uploadify/uploadify.css">
    <style type="text/css">
        input.ng-invalid.ng-dirty {
            border-color: #fa787e;
        }
        input.ng-valid.ng-dirty {
            border-color: #50a729;
        }
    </style>
  </head>
    
  <body ng-controller='ProductBaseCtrl'>
  	<!-- Button to trigger modal -->
    <!--<a href="#myModal" role="button" class="btn" data-toggle="modal">查看演示案例</a>-->
<div id="productEditModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-header">
        <button type="button" class="close"  data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myPEModalLabel">编辑产品</h3>
      </div>
      <div class="modal-body">
        <div class="popupBox clearfix">
    	<div class="listBox">
            <ul>
            	<li ng-class="productEditPageOne?'cur':''"><i></i>产品资料</li>
                <li ng-class="!productEditPageOne?'cur':''"><i></i>产品报价</li>
            </ul>
        </div>
        <form name="ProductEditForm">
        <div class="madeBox" ng-show="productEditPageOne">
        <ul class="listContent">
        	<li><span class="span1">产品名称：</span><span><input type="text" name="PName" ng-model="EditProduct.PName" ng-required="true" placeholder="Inactive" class="span3"></span></li>
            <li><span class="span1">产品分类：</span><span>
            <select class="span3" ng-model="EditProduct.PTypeId" ng-options="t.name for t in EditProduct.PTypes ">
			</select>
				</span></li>
            <li><span class="span1">单位：</span><span>
<label class="checkbox-inline">
  <input type="radio" name="optionsRadios" ng-model="EditProduct.Unit" value="option1"> 个&nbsp;
</label>
<label class="checkbox-inline">
  <input type="radio" name="optionsRadios" ng-model="EditProduct.Unit" value="option2"> 套&nbsp;
</label>
<label class="checkbox-inline">
  <input type="radio" name="optionsRadios" ng-model="EditProduct.Unit" value="option3"> 瓶&nbsp;
</label>
<label class="checkbox-inline">
  <input type="radio" name="optionsRadios" ng-model="EditProduct.Unit" value="option3"> 吨&nbsp;
</label>
<label class="checkbox-inline">
  <input type="radio" name="optionsRadios" ng-model="EditProduct.Unit" value="option3"> 袋
</label>
				</span></li>
            <li><span class="span1">&nbsp;</span><span class="spanBtn clearfix"><a href="" class="btn btn-large btn-block btn-success" ng-click="editProductPageNext()">下一步</a></span></li>
        </ul>
        </div>
        <div class="madeBox" ng-hide="productEditPageOne">
        <ul class="listContent">
        	<li><span class="span1">采购数量：</span><span><input type="number" ng-model="EditProduct.StockCount" ng-required="true" placeholder="Inactive" class="span3"></span></li>
            <li><span class="span1">采购单价：</span><span><input type="number" ng-model="EditProduct.PurchasePrice"  ng-required="true" placeholder="Inactive" class="span3"></span></li>
            <li><span class="span1">&nbsp;</span><span class="priceBox">采购总价：<b class="colorBlue">{{(EditProduct.StockCount || 0)*(EditProduct.PurchasePrice||0)}}</b><span class="colorGray">元</span></span></li>
            <li><span class="span1">&nbsp;</span><span class="spanBtn clearfix"><a href="" class="btn btn-large btn-block btn-success" ng-click="ProductEditSubmit()">确 定</a><a href="" class="btn btn-large btn-block btn-success" ng-click="productEditPageOne = true">上一步</a></span></li>
        </ul>
        </div>
        </form>
    </div>
      </div>
    </div>
<!-- -->
<div id="addPurchaseModal" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="width:580px;">
      <div class="modal-header">
        <button type="button" class="close"  data-dismiss="modal" aria-hidden="true">×</button>
        <h3 id="myAPModalLabel">编辑产品</h3>
      </div>
      <div class="modal-body" style="width:580px;">
        <div class="popupBox clearfix"  style="width:580px;">
        <div class="madeBox" style="width:580px;">
        <ul class="listContent">
        	<li><span class="span1">采购数量：</span><span><input type="text" value="" placeholder="Inactive" class="span3"></span></li>
            <li><span class="span1">采购单价：</span><span><input type="text" value="" placeholder="Inactive" class="span3"></span></li>
            <li><span class="span1">&nbsp;</span><span class="priceBox">采购总价：<b class="colorBlue">85000.00</b><span class="colorGray">元</span></span></li>
            <li><span class="span1">&nbsp;</span><span class="spanBtn clearfix"><a href="#fakelink" class="btn btn-large btn-block btn-success">确 定</a></span></li>
        </ul>
        </div>
    </div>
      </div>
    </div>
    <!-- Modal -->
   <!-- --> 
<div class="floatBox pactBox prouBox" id="productDetailBox" style="width:0;position:fixed;right:0;top:0;">
        	<div class="fBg"></div>
            <div class="fCon clearfix">
                <i class="arrR" ng-click="hideProductDetail()"></i>
                <ul class="pact-ul clearfix">
                	<li ng-class="tabIndex==1?'cur':''" ng-click="productInfo()">产品信息</li>
                    <li ng-class="tabIndex==2?'cur':''" ng-click="productStore()">入库信息</li>
                    <li ng-class="tabIndex==3?'cur':''" ng-click="productPurchase()">采购单</li>
                </ul>
            	<ul class="ul-f1" ng-show="tabIndex==1">
                	<li class="clearfix"><span class="colorBlue namS">产品名称：</span><span class="conS">HP 8300</span></li>
                    <li class="clearfix"><span class="colorBlue namS">产品分类：</span><span class="conS">惠普</span></li>
                    <li class="clearfix"><span class="colorBlue namS">成本价：</span><span class="conS"><b class="colorRed">20.00</b> 元</span></li>
                    <li class="clearfix"><span class="colorBlue namS">市场售价：</span><span class="conS"><b class="colorRed">20.00</b> 元</span></li>
                    <li class="clearfix"><span class="colorBlue namS">最低售价：</span><span class="conS"><b class="colorRed">20.00</b> 元</span></li>
                    <li class="clearfix"><span class="colorBlue namS">当前库存：</span><span class="conS"><b>67</b>件</span></li>
                    <li class="clearfix"><span class="colorBlue namS">产品描述：</span><span class="s-text conS">Bootstrap Switch是对Bootstrap控件的扩充。基于选HTML中基本的选择框控件实现只有开和关两种状态的单选按钮。</span></li>
                </ul> 
                <div class="basicProfit" ng-show="tabIndex==1">
                    <div class="pTop">
                        最低利润率：<b class="colorBlue">20%</b>
                    </div>
                    <div class="pDown">
                        市场售价利润率：<b class="colorBlue">20%</b>
                    </div>
                 </div>
                 <div class="tablePad" ng-show="tabIndex==2">
                 	<input type="button" class="addBtn" ng-click="addPurchase()">
                    <table class="table table-bordered table-striped">
                      <thead>
                        <tr>
                          <th><label class="checkbox"><input type="checkbox" value=""></label></th>
                          <th width="30%">采购批次</th>
                          <th width="10%">单价</th>
                          <th width="10%">数量</th>
                          <th width="15%">采购总价</th>
                          <th width="30%">入库时间</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td><label class="checkbox"><input type="checkbox" value="">1</label></td>
                          <td>20130515090301001</td>
                          <td class="colorBlue">8300.00</td>
                          <td>50</td>
                          <td class="colorBlue">8300.00</td>
                          <td>2013/04/13</td>
                        </tr>
                        <tr>
                          <td><label class="checkbox"><input type="checkbox" value="">1</label></td>
                          <td>20130515090301001</td>
                          <td class="colorBlue">8300.00</td>
                          <td>50</td>
                          <td class="colorBlue">8300.00</td>
                          <td><p>2013/04/13</p></td>
                        </tr>
                        <tr>
                          <td><label class="checkbox"><input type="checkbox" value="">1</label></td>
                          <td>20130515090301001</td>
                          <td class="colorBlue">8300.00</td>
                          <td>50</td>
                          <td class="colorBlue">8300.00</td>
                          <td>2013/04/13</td>
                        </tr>
                        <tr>
                          <td><label class="checkbox"><input type="checkbox" value="">1</label></td>
                          <td>20130515090301001</td>
                          <td class="colorBlue">8300.00</td>
                          <td>50</td>
                          <td class="colorBlue">8300.00</td>
                          <td><p>2013/04/13</p></td>
                        </tr>
                        <tr>
                          <td><label class="checkbox"><input type="checkbox" value="">1</label></td>
                          <td>20130515090301001</td>
                          <td class="colorBlue">8300.00</td>
                          <td>50</td>
                          <td class="colorBlue">8300.00</td>
                          <td>2013/04/13</td>
                        </tr>
                        <tr>
                          <td><label class="checkbox"><input type="checkbox" value="">1</label></td>
                          <td>20130515090301001</td>
                          <td class="colorBlue">8300.00</td>
                          <td>50</td>
                          <td class="colorBlue">8300.00</td>
                          <td><p>2013/04/13</p></td>
                        </tr>
                        <tr>
                          <td><label class="checkbox"><input type="checkbox" value="">1</label></td>
                          <td>20130515090301001</td>
                          <td class="colorBlue">8300.00</td>
                          <td>50</td>
                          <td class="colorBlue">8300.00</td>
                          <td>2013/04/13</td>
                        </tr>
                        <tr>
                          <td><label class="checkbox"><input type="checkbox" value="">1</label></td>
                          <td>20130515090301001</td>
                          <td class="colorBlue">8300.00</td>
                          <td>50</td>
                          <td class="colorBlue">8300.00</td>
                          <td><p>2013/04/13</p></td>
                        </tr>
                        
                      </tbody>
                    </table>
                </div>
                <ul class="ul-f3" ng-show="tabIndex==3">
                    <li class="clearfix cur">
                        <div class="li-timeb colorRed">
                           三期
                            <span class="cir-w"><i></i></span>
                        </div>
                        <div class="li-conb">
                            <div class="li-boxs">
                                <i></i>
                                <div class="tim-list"><div class="colorBlue">收款时间：</div>2013/06/02</div>
								<div class="tim-list"><div class="colorBlue">实际收款时间：</div><span class="colorRed">未到收款日</span></div>
                            </div>
                        </div>
                    </li> 
                    <li class="clearfix none">
                        <div class="li-timeb colorRed">
                           二期
                            <span class="cir-w"><i></i></span>
                        </div>
                        <div class="li-conb">
                            <div class="li-boxs">
                                <i></i>
                                <div class="tim-list"><div class="colorBlue">收款时间：</div>2013/06/02</div>
								<div class="tim-list"><div class="colorBlue">实际收款时间：</div><span class="colorRed">未到收款日</span></div>
                            </div>
                        </div>
                    </li>                            
                </ul>            
            </div>
        </div>
<!-- -->
  	<div class="navbar">
      
    </div>
    <div class="Nav">
        <div class="headImg">
            <img src="img/Adimg/h1.jpg"/>
        </div>
        <ul class="navList">
            <li class="cur">
                <a href="#" class="homeIcon"></a>
                <p><a href="#">主页</a></p>
            </li>
            <li>
                <a href="#" class="peopleIcon"></a>
                <p><a href="#">产品管理</a></p>
            </li>
            <li>
                <a href="#" class="peopleIcon"></a>
                <p><a href="#">销售管理</a></p>
            </li>
            <li>
                <a href="#" class="peopleIcon"></a>
                <p><a href="#">财务管理</a></p>
            </li>
        </ul>
    </div>
    <div class="conBox">
        <h1 class="titSec">产品项目</h1>
        <ul class="clearfix goodsList">
            <li ng-repeat="catalog in catalogs"  ng-class="catalog.active?'cur':''">
                <a ng-href="#!/product/{{catalog.PTypeId}}/1"><em><i class="pcIcon"></i></em></a>
                <p>{{catalog.PTypeName}}</p>
                <span class="arrowD"></span>
            </li>
            <li ng-show="addCatalogFlag">
            	<div class="newAddBox">
                	<i class="aClose" ng-click="addCatalogCancel()"></i>
                    <div class="clearfix addImg" id="file_upload"><em><i class="askIcon"></i></em><a href="#" >点击添加图片</a></div>
                     <input type="text" value="输入分类名称" class="addName"/>
                </div>
            </li>
            <li>
                <div class="addG" ng-click="addCatalog()">添加</div>
            </li>
        </ul>
        <div class="searchBox">
            <input type="button" class="addBtn" ng-click="editProduct()"/>
            <input type="button" class="delBtn"/>
            <span class="seCon"><input type="text" class="setext" placeholder="Type something…"><input type="button" class="seBtn"/></span>
        </div>
        <div class="tablePad">
            <table class="table table-bordered table-striped">
              <thead>
                <tr>
                  <th>#</th>
                  <th width="30%">产品名称</th>
                  <th width="10%">成本价格</th>
                  <th width="10%">售价</th>
                  <th width="10%">最低售价</th>
                  <th width="10%">库存</th>
                  <th width="30%">&nbsp;</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="product in products">
                  <td>{{product.StockCount}}</td>
                  <td>{{product.PName}}</td>
                  <td class="colorBlue">8300.00</td>
                  <td class="colorBlue">{{product.MarketPrice}}</td>
                  <td class="colorBlue">{{product.LowestPrice}}</td>
                  <td>{{product.StockCount}}</td>
                  <td><a href="" role="button" data-toggle="modal" ng-click="showProductDetail()">查看</a>|
                  <a role="button" data-toggle="modal" href="" ng-click="editProduct()">编辑产品资料</a>|
                  <a role="button" data-toggle="modal" href="" ng-click="addPurchase()">添加采购单</a></td>
                </tr>
              </tbody>
            </table>
        </div>
    </div>
    <div ng-view>
    </div>
	<script type="text/javascript">
		$(function() {
			$('#file_upload').cuploadify({
				'formData'     : {
					'token'     : 'sss'
				},
				'swf'      : 'js/uploadify/uploadify.swf',
				'uploader' : '/Upload/Uploader/71358f72c447e0ec2ecba71636907898?queryData=width-126,height-126&imageWidth=470&imageHeight=0',
				'height'   : 70,
				'width'    : 190
			});
		});
	</script>
  </body>
</html>